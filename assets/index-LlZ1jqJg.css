:root{font-family:Noto Sans JP,Segoe UI,system-ui,sans-serif;color:#e2e8f0;background:#020617}body{margin:0;min-height:100vh;background:radial-gradient(circle at top,#1d2a44,#040714 60%)}*{box-sizing:border-box}.app-shell{max-width:1200px;margin:0 auto;padding:32px 16px 48px}header{text-align:center;margin-bottom:24px}header h1{margin:0;font-size:2rem}header p{margin:8px 0 0;color:#cbd5f5}header small{display:block;margin-top:4px;color:#94a3b8}small.error{color:#f87171}.board{display:flex;flex-direction:column;gap:16px}.visual-area{position:relative;background:#0f172ae6;border:1px solid rgba(255,255,255,.08);border-radius:18px;padding:16px;box-shadow:0 20px 40px #0006;display:flex;flex-direction:column;gap:16px}.silhouette{position:relative;height:320px;border-radius:16px;background:linear-gradient(160deg,#0a0f1f,#111f3a 60%,#040611);overflow:hidden;display:flex;align-items:center;justify-content:flex-start;padding-left:18px}.silhouette-base{max-width:70%;max-height:100%;object-fit:contain;opacity:.9}.effect-panel{position:absolute;top:12px;right:12px;display:flex;gap:6px;align-items:center}.effect{max-width:110px;max-height:110px;object-fit:contain;pointer-events:none;animation:pop .35s ease}.effect.panic{mix-blend-mode:screen;opacity:.9}.effect.calm{mix-blend-mode:lighten;opacity:.95}.effect.level-1{transform:scale(1)}.effect.level-2{transform:scale(1.08)}.effect.level-3{transform:scale(1.16)}@keyframes pop{0%{transform:scale(.92);opacity:.2}to{transform:scale(1);opacity:1}}.angel-toast{position:absolute;top:35%;left:50%;transform:translate(-50%,-50%);background:#10b98126;border:1px solid rgba(16,185,129,.4);color:#befae3;padding:10px 16px;border-radius:12px;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);animation:fadeUpCenter 1.6s ease forwards;pointer-events:none}.system-toast{position:absolute;right:12px;bottom:12px;background:#1e293be6;border:1px solid rgba(148,163,184,.4);color:#e2e8f0;padding:8px 12px;border-radius:10px;font-size:.95rem;animation:fadeUpCorner 1.4s ease forwards;pointer-events:none}.result-overlay{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;pointer-events:none;animation:resultPop .6s ease}.result-overlay img{max-width:75%;max-height:70%;object-fit:contain;filter:drop-shadow(0 12px 26px rgba(0,0,0,.45))}@keyframes fadeUpCenter{0%{opacity:0;transform:translate(-50%,-30%)}20%{opacity:1;transform:translate(-50%,-50%)}to{opacity:0;transform:translate(-50%,-70%)}}@keyframes fadeUpCorner{0%{opacity:0;transform:translateY(6px)}20%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-12px)}}@keyframes resultPop{0%{transform:scale(.96);opacity:0}to{transform:scale(1);opacity:1}}.chat{flex:1;overflow-y:auto;max-height:320px;padding-right:8px}.bubble{padding:8px 12px;margin-bottom:10px;border-radius:12px;background:#0f172a99;border:1px solid rgba(255,255,255,.05);line-height:1.4}.bubble.犯人{background:#f43f5e26;border-color:#f43f5e4d}.bubble.受信者{background:#3b82f62e;border-color:#3b82f64d}.bubble.天使{background:#10b98133;border-color:#10b98166}.bubble.SYSTEM{background:#94a3b83d;border-color:#94a3b866}.speaker{display:block;font-size:.85rem;opacity:.8;margin-bottom:2px}.visual-controls{display:flex;flex-direction:column;gap:12px;padding:12px 0 8px}.meter{display:flex;flex-direction:column;align-items:center;gap:12px}.meter-label{font-weight:600}.meter-bar{width:80px;height:260px;border-radius:16px;background:#020617;border:2px solid #1f2937;position:relative;overflow:hidden;display:flex;align-items:flex-end}.meter-fill{width:100%;transition:height .4s ease}.meter-fill.danger{background:linear-gradient(180deg,#f43f5e,#c81e1e)}.meter-fill.warn{background:linear-gradient(180deg,#f97316,#ea580c)}.meter-fill.mid{background:linear-gradient(180deg,#22d3ee,#0ea5e9)}.meter-fill.success{background:linear-gradient(180deg,#34d399,#059669)}.signal-btn{padding:12px;border-radius:999px;border:none;font-size:1rem;font-weight:700;background:linear-gradient(135deg,#22d3ee,#0ea5e9);color:#0b1221;cursor:pointer;transition:transform .1s ease,box-shadow .2s ease,opacity .2s}.signal-btn.disabled,.signal-btn:disabled{background:#0f172a;color:#94a3b8;border:1px solid #1f2937;cursor:not-allowed;opacity:.8}.signal-btn:not(:disabled):active{transform:scale(.97);box-shadow:0 0 20px #0ea5e980}.hint{font-size:.9rem;color:#94a3b8;margin:0}@media (min-width: 900px){.visual-area{min-height:640px}}
